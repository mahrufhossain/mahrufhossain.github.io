<!DOCTYPE html>
<html lang="en" class="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced: Creating Sheet Symbol LTSpice Tutorial - Mahruf Hossain</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Tailwind CSS configuration for dark mode
        tailwind.config = {
            darkMode: 'class', // This tells Tailwind to enable dark mode when the 'dark' class is present on the <html> tag
            theme: {
                extend: {
                    // Extend theme here if you had custom colors defined
                }
            }
        }
    </script>
    <script>
        (function() {
            const storedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            let themeToApply = 'light';
            if (storedTheme) {
                themeToApply = storedTheme;
            } else if (prefersDark) {
                themeToApply = 'dark';
            }

            if (themeToApply === 'dark') {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
        })();
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../style.css">
</head>
<body class="antialiased transition-colors duration-300 min-h-screen flex flex-col">

    <header class="shadow-md py-4 sticky top-0 z-50 transition-colors duration-300 bg-white dark:bg-gray-700">
        <nav class="container mx-auto flex justify-between items-center px-4">
            <a href="../index.html" class="text-2xl font-bold rounded-md p-2 text-gray-900 dark:text-gray-100 hover:bg-gray-200 dark:hover:bg-gray-800 transition duration-300">Mahruf Hossain</a>
            
            <div class="hidden md:flex space-x-6 items-center">
                <a href="ltspice_tutorial.html" class="font-bold text-gray-900 transition duration-300 rounded-md p-2 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-gray-800">Back to Tutorials Index</a>
            
            <button id="theme-toggle-desktop" class="p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition duration-300 relative flex items-center justify-center w-10 h-10">
                <svg id="sun-icon-desktop" class="p-1 w-auto h-auto absolute transition-opacity rounded-md duration-300 text-gray-800 dark:text-gray-200 hover:bg-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="4.22" x2="5.66" y2="5.66"></line>
                    <line x1="18.34" y1="18.34" x2="19.78" y2="19.78"></line>
                    <line x1="19.78" y1="4.22" x2="18.34" y2="5.66"></line>
                    <line x1="5.66" y1="18.34" x2="4.22" y2="19.78"></line>
                </svg>
                <svg id="moon-icon-desktop" class="p-1 w-auto h-auto rounded-md absolute transition-opacity duration-300 text-gray-800 dark:text-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                </svg>
            </button>
            </div>

            <div class="md:hidden flex items-center space-x-2">
                <button id="theme-toggle-mobile-header" class="p-2 rounded-md hover:bg-gray-100 dark:hover:bg-gray-700 transition duration-300 relative flex items-center justify-center w-10 h-10">
                <svg id="sun-icon-mobile-header" class="p-1 w-auto h-auto absolute transition-opacity rounded-md duration-300 text-gray-800 dark:text-gray-200 hover:bg-gray-200" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="12" cy="12" r="5"></circle>
                    <line x1="12" y1="1" x2="12" y2="3"></line>
                    <line x1="12" y1="21" x2="12" y2="23"></line>
                    <line x1="1" y1="12" x2="3" y2="12"></line>
                    <line x1="21" y1="12" x2="23" y2="12"></line>
                    <line x1="4.22" y1="4.22" x2="5.66" y2="5.66"></line>
                    <line x1="18.34" y1="18.34" x2="19.78" y2="19.78"></line>
                    <line x1="19.78" y1="4.22" x2="18.34" y2="5.66"></line>
                    <line x1="5.66" y1="18.34" x2="4.22" y2="19.78"></line>
                </svg>
                    <svg id="moon-icon-mobile-header" class="w-6 h-6 absolute transition-opacity duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                </button>
                <button id="mobile-menu-button" class="hover:text-teal-600 focus:outline-none rounded-md p-2 hover:bg-gray-100">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </nav>

        <div id="mobile-menu" class="hidden md:hidden absolute top-full left-0 w-full shadow-lg rounded-b-lg z-40 transition-colors duration-300 bg-white dark:bg-gray-700">
            <a href="ltspice_tutorial.html" class="block px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 active:bg-gray-200 dark:active:bg-gray-700 transition duration-300">Back to Tutorials Index</a>
            <a href="../index.html#home" class="block px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 active:bg-gray-200 dark:active:bg-gray-700 transition duration-300">Home</a>
            <a href="../index.html#about" class="block px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 active:bg-gray-200 dark:active:bg-gray-700 transition duration-300">About</a>
            <a href="../index.html#my-work" class="block px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 active:bg-gray-200 dark:active:bg-gray-700 transition duration-300">My Work</a>
            <a href="../index.html#contact" class="block px-4 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600 active:bg-gray-200 dark:active:bg-gray-700 transition duration-300">Contact</a>
        </div>
    </header>

    <main class="flex-grow">
        <section id="symbol-content" class="section-padding bg-white rounded-xl shadow-lg mt-8 mx-4 md:mx-auto max-w-6xl py-12 mb-24 border border-gray-200">
            <div class="container mx-auto px-4">
                <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6 dark:text-gray-100">10. Advanced: Creating a Hierarchical Symbol from a Schematic</h1>
                <p class="text-gray-600 mb-6 dark:text-gray-300">For complex circuit designs, it's often useful to create a <strong>hierarchical design</strong>, where a sub-circuit is represented by a single, clean symbol. This approach simplifies the main schematic, making it easier to read and manage. In this tutorial, we will take a simple circuit and turn it into a reusable symbol that can be placed in other schematics. We will use the <strong>inverting amplifier</strong> circuit we created earlier as an example.</p>

                <hr class="my-8 border-gray-300 dark:border-gray-600">

                <h2 id="prepare-schematic" class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2 dark:text-gray-200 dark:border-gray-600">10.1 Preparing Your Schematic for Symbol Creation</h2>
                <p class="text-gray-600 mb-4 dark:text-gray-300">The first step is to define the "pins" or "ports" of your new symbol. These are the points where it will connect to other components.</p>
                <ol class="list-decimal list-inside text-gray-600 mb-4 pl-4 space-y-2 dark:text-gray-300">
                    <li><strong>Open the Inverting Amplifier Schematic:</strong> Open your previously saved inverting amplifier circuit (e.g., <i>inverting_amp.asc</i>).</li>
                    <li><strong>Add Port Labels:</strong> Your symbol needs input and output ports. 
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Go to <i>Edit > Click Label Net</i> (or press <strong>N</strong>).</li>
                            <li>Add ports to the following nodes:
                                <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                                    <li>The input voltage source wire: Name it <strong>Vin</strong>. Set the port type as <i>Input</i>.</li>
                                    <li>The output wire from the Op-Amp: Name it <strong>Vout</strong>. Set the port type as <i>Output</i>.</li>
                                    <li>The positive power supply: Name it <strong>Vcc</strong>. Set the port type as <i>Input</i>.</li>
                                    <li>The negative power supply: Name it <strong>Vee</strong>. Set the port type as <i>Input</i>.</li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                    <li><strong>Place the Ports:</strong> Place these four port labels on the corresponding wires of your schematic. The label's position on the wire doesn't matter, but it's good practice to place them neatly.</li>
                </ol>
                <img src="assets/hiererchical_symbol/symbol_01.png" alt="LTSpice schematic of an inverting amplifier with port labels added for Vin, Vout, Vcc, and Vee." class="w-auto md:w-1/2 h-auto rounded-lg shadow-md mb-6 border border-gray-200 mx-auto dark:border-gray-700">

                <hr class="my-8 border-gray-300 dark:border-gray-600">

                <h2 id="create-symbol" class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2 dark:text-gray-200 dark:border-gray-600">10.2 Generating and Editing the New Symbol</h2>
                <p class="text-gray-600 mb-4 dark:text-gray-300">With the ports defined, LTSpice can automatically generate a symbol for you. You'll then be able to customize its appearance.</p>
                <ol class="list-decimal list-inside text-gray-600 mb-4 pl-4 space-y-2 dark:text-gray-300">
                    <li><strong>Generate the Symbol:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Go to <i>Hierarchy > Open or Generate This Sheet's Symbol</i>.</li>
                            <li>A new window will appear with the basic symbol, and the pins will be placed according to the port labels you created.</li>
                        </ul>
                    </li>
                    <li><strong>Draw the Symbol's Body:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Use the drawing tools at the top of the symbol editor window to create a shape that represents your circuit. For an amplifier, a triangle is a good choice.</li>
                            <li>Use the <strong>Line</strong> tool to draw a triangle.</li>
                            <li>Use the <strong>Circle</strong> tool to add a small circle at the inverting input if you like.</li>
                            <li>Use the <strong>AMP</strong> tool to add "AMP" or other descriptive text inside the symbol.</li>
                        </ul>
                    </li>
                    <li><strong>Position and Name the Pins:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>The ports you defined (Vin, Vout, Vcc, Vee) are represented by the small squares on the symbol.</li>
                            <li>Select each pin and drag it to the desired position on your symbol body. For an inverting amplifier, you'd place Vin and Vout on the left and right, and Vcc and Vee on the top and bottom.</li>
                            <li>You can also <i>right-click</i> on a pin to change its properties, such as its name or pin number.</li>
                        </ul>
                    </li>
                    <li><strong>Save the Symbol:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Go to <i>File > Save As</i>.</li>
                            <li>LTSpice will automatically suggest saving it in the same directory as your schematic with a <strong>.asy</strong> extension. This is important, as it ensures LTSpice can find the symbol when you use it.</li>
                        </ul>
                    </li>
                </ol>
                <p><i>I have created the symbol like below, its up to you how do you want to modify the design of your symbol.</i></p>
                <img src="assets/hiererchical_symbol/symbol_02.png" alt="LTSpice symbol editor showing the drawing tools and pins of a newly created symbol from a schematic." class="w-full md:w-1/2 h-auto rounded-lg shadow-md mb-6 border border-gray-200 mx-auto dark:border-gray-700">

                <hr class="my-8 border-gray-300 dark:border-gray-600">

                <h2 id="use-symbol" class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2 dark:text-gray-200 dark:border-gray-600">10.3 Using Your New Symbol in a Schematic</h2>
                <p class="text-gray-600 mb-4 dark:text-gray-300">Now you can use your custom symbol just like any other component.</p>
                <ol class="list-decimal list-inside text-gray-600 mb-4 pl-4 space-y-2 dark:text-gray-300">
                    <li><strong>New Schematic:</strong> Open a new blank schematic.</li>
                    <li><strong>Find Your Symbol:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Go to <i>Component</i> (or press <strong>P</strong>).</li>
                            
                            <li>Navigate to the folder where you saved your schematic and symbol. You should see your new <i>.asc</i> file and its corresponding <i>.asy</i> symbol file.</li>
                            <li>Select your symbol file (e.g., <strong>inverting_amp.asy</strong>) and click <strong>OK</strong>.</li>
                        </ul>
                    </li>
                    <li><strong>Place and Connect:</strong>
                        <ul class="list-disc list-inside text-gray-600 ml-6 mt-1 space-y-1 dark:text-gray-300">
                            <li>Place the symbol on the schematic. You can now wire up its pins (Vin, Vout, Vcc, Vee) as you would with any other component.</li>
                            <li>When you run a simulation with this symbol, LTSpice will automatically look inside the symbol's underlying schematic to perform the calculations.</li>
                        </ul>
                    </li>
                </ol>
                <p class="text-gray-600 mb-4 dark:text-gray-300">This process of creating a symbol from a schematic is called <strong>hierarchical design</strong>. It's an invaluable skill for keeping large and complex circuits organized and for creating reusable blocks of a design.</p>
            </div>
        </section>
    </main>

    <section class="container mx-auto px-4 mt-12 mb-16">
        <div class="flex justify-between items-center py-4 px-6 bg-white rounded-xl shadow-lg border border-gray-200">
            <a href="working_with_switches.html" class="flex items-center text-teal-800 hover:text-teal-600 dark:text-teal-700 dark:hover:text-teal-600 font-semibold transition duration-300">
                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                Previous: Using Switches
            </a>

            <a href="using_transformers.html" class="flex items-center text-teal-800 hover:text-teal-600 dark:text-teal-700 dark:hover:text-teal-600 font-semibold transition duration-300">
                Next: Using Transformers
                <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
            </a>
        </div>
    </section>

    <footer class="bg-gray-800 text-white text-center py-4 mt-8">
        <div class="container mx-auto px-4">
            <p>&copy; 2025 Mahruf Hossain. All rights reserved.</p>
        </div>
    </footer>


    <button id="scrollToTopBtn" class="fixed bottom-4 right-4 bg-teal-600 hover:bg-teal-700 text-white p-3 rounded-full shadow-lg transition-all duration-300 transform hover:scale-110 focus:outline-none z-40" style="display: none;">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 10l7-7m0 0l7 7m-7-7v18"></path></svg>
    </button>

<script src="../js/script.js"></script>

</body>
</html>